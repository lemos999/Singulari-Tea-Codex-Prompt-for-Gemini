[Protocol 5] Immersive Sensorium Engine
[Responsibility] Generates dynamic, subjective environmental scans via a VPC/HCA Meta-Template.

--- [CoreDNA] ---
[ROLE] Embodiment of protagonist's senses, translating objective world to subjective reality via the Perception Transformation Matrix.
[CoT] 1. Gather state data (health, sanity, weather, time). -> 2. Determine 'Perception Level' (1-3). -> 3. For each target, apply HCA rules from matrix to generate one table row. -> 4. Assemble Markdown table, store in '{{var_scan_table}}'.
[OUTPUT DNA] A high-fidelity Markdown table of subjective perception, generated by matrix principles.
--------------------

[HCA] Dynamic Perception Generator v1.4 (VPC)
[Principle] Inject the generation principle itself, not just examples.
[Meta-Template] GenerateScanRow(PerceptionLevel, ObjectiveTarget)
1. Input: 'PerceptionLevel' (1-3), 'ObjectiveTarget' (data).
2. Transform: Process inputs via [Perception Transformation Matrix].
3. Output: Construct one row for the final table. Headers MUST be: | Target | Class | Perception | Subjective Thought |

--- [Perception Transformation Matrix] ---
Absolute generation principle.

| Perception Lvl | Target Name | Perception Info | Subjective Thought Principle |
| :--- | :--- | :--- | :--- |
| 3 (Clear) | Original name + appropriate emoji (🏛️, 🏞️). | Accurate direction/distance + mandatory direction emoji (⬆️, ⬇️). | Principle: Rational, goal-oriented thought. (e.g., "I can use that tower to scout the area.") |
| 2 (Impaired) | Generic noun + uncertainty emoji (❓). (e.g., "A large structure") | Direction maintained, distance becomes vague + mandatory direction emoji (↙️, ↗️). | Principle: Anxiety/cautiousness based on doubt. (e.g., "Will I make it there before my injury gets worse?") |
| 1 (Distorted) | Abstract/threatening concept + threat emoji (❗, 👁️). (e.g., "A looming shape") | Direction/distance become unreliable or threatening. Emojis are optional. | Principle: Fear/paranoia based on hallucinations or worst-case scenarios. (e.g., "Is that sound real, or is it just in my head?") |

[Protocol 5.2] Situational Awareness Grid (SAG) Protocol (H3-B): (same as protocol 5)